import{j as e,u as y,a as P,r as i,m}from"./index-DTE9duUF.js";const M=({progress:a,message:t,speed:s})=>e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-white font-semibold text-sm",children:t}),e.jsxs("span",{className:"text-pokemon-blue font-bold text-sm",children:[Math.round(a),"%"]})]}),e.jsx("div",{className:"w-full h-3 bg-pokemon-darkest rounded-full overflow-hidden border border-pokemon-blue/30",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-pokemon-blue via-pokemon-yellow to-pokemon-blue bg-[length:200%_100%] animate-[gradient_2s_ease-in-out_infinite] transition-all duration-300 relative",style:{width:`${a}%`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-[shine_1.5s_ease-in-out_infinite]"})})}),s&&e.jsx("div",{className:"mt-2 text-gray-400 text-xs text-right",children:s>0?`${s.toFixed(2)} MB/s`:"Calculando..."}),e.jsx("style",{jsx:!0,children:`
        @keyframes gradient {
          0%, 100% {
            background-position: 0% 50%;
          }
          50% {
            background-position: 100% 50%;
          }
        }

        @keyframes shine {
          0% {
            transform: translateX(-100%);
          }
          100% {
            transform: translateX(100%);
          }
        }
      `})]}),I=async(a,t,s)=>window.electronAPI&&window.electronAPI.launchMinecraft?(console.log("üéÆ Lanzando Minecraft via Electron..."),await window.electronAPI.launchMinecraft(a,t)):(console.log("‚ö†Ô∏è Modo desarrollo: Simulando lanzamiento de Minecraft..."),console.log("üìù En producci√≥n (.exe), esto lanzar√° Minecraft real"),await E(a,t,s)),E=async(a,t,s)=>{try{console.log("üéÆ Iniciando sistema de lanzamiento de Minecraft...");const n=t.minecraftDir||await S();console.log("üìÅ Directorio:",n);const l=[{percent:10,message:"üéÆ Invocando Pikachu..."},{percent:25,message:"‚ö° Cargando Pok√©balls..."},{percent:40,message:"üåü Preparando mods..."},{percent:60,message:"üì¶ Descargando recursos..."},{percent:75,message:"üîß Instalando Fabric..."},{percent:90,message:"üé® Configurando texturas..."},{percent:100,message:"‚ú® ¬°Listo!"}];for(const c of l)s&&s({percent:c.percent,message:c.message}),await new Promise(u=>setTimeout(u,500));return console.log("‚úÖ Simulaci√≥n completa"),console.log("üí° En el .exe, aqu√≠ se lanzar√° Minecraft real"),{success:!0}}catch(n){throw console.error("‚ùå Error:",n),n}},S=async()=>window.electronAPI?`${await window.electronAPI.getAppPath("appData")}/.pokereport`:"./.pokereport",p=["üéÆ Invocando Pikachu...","‚ö° Cargando Pok√©balls...","üåü Preparando mods...","üì¶ Descargando recursos...","üîß Instalando Fabric...","üé® Configurando texturas...","üåç Conectando al servidor...","‚ú® Casi listo..."],A=()=>{const a=y(),{user:t,config:s,setDownloadProgress:n,setDownloading:l,setStatus:c}=P(),[u,d]=i.useState(p[0]),[b,h]=i.useState(0),[j,w]=i.useState(0),[x,g]=i.useState(!0),[f,N]=i.useState(null);i.useEffect(()=>{(async()=>{l(!0),g(!0);try{let o=0;const v=r=>{h(r.percent||0),n(r.percent||0),w(r.speed||0),r.message?d(r.message):(o=(o+1)%p.length,d(p[o]))};d("üéÆ Iniciando sistema de lanzamiento..."),await I(t,s,v),h(100),d("‚úÖ ¬°Minecraft iniciado correctamente!"),await new Promise(r=>setTimeout(r,2e3)),a("/home")}catch(o){console.error("Error en lanzamiento:",o),N(o.message||"Error al iniciar el juego"),g(!1)}finally{l(!1)}})()},[t,s,a,n,l,c]);const k=()=>{a("/home")};return e.jsx("div",{className:"w-full h-full flex items-center justify-center p-8 relative z-10",children:e.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-4xl w-full",children:[e.jsxs("div",{className:"glass rounded-3xl p-12 border-2 border-pokemon-blue/30",children:[e.jsxs(m.div,{animate:{scale:[1,1.1,1]},transition:{duration:1.5,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},className:"text-center mb-8",children:[e.jsx("img",{src:"/pokeball-icon.png",alt:"Loading",className:"w-32 h-32 mx-auto mb-4 drop-shadow-2xl",style:{filter:"drop-shadow(0 0 40px rgba(211, 47, 47, 0.8))"}}),e.jsx("h2",{className:"text-white font-bold text-3xl mb-2",children:"Preparando el juego..."}),e.jsx("p",{className:"text-gray-400",children:"Por favor, espera mientras configuramos todo"})]}),e.jsx("div",{className:"mb-8",children:e.jsx(M,{progress:b,message:u,speed:x?j:0})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-pokemon-darkest rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Usuario"}),e.jsx("p",{className:"text-white font-bold truncate",children:t?.username})]}),e.jsxs("div",{className:"bg-pokemon-darkest rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"RAM"}),e.jsxs("p",{className:"text-white font-bold",children:[s.ram,"GB"]})]}),e.jsxs("div",{className:"bg-pokemon-darkest rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Versi√≥n"}),e.jsx("p",{className:"text-white font-bold",children:"1.21.1"})]})]}),x&&e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},className:"bg-pokemon-blue/10 border border-pokemon-blue/30 rounded-xl p-4 mb-6",children:e.jsxs("p",{className:"text-pokemon-blue text-sm",children:["üí° ",e.jsx("strong",{children:"Consejo:"})," La primera vez puede tomar hasta 5-10 minutos. ¬°No cierres el launcher!"]})}),f&&e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-pokemon-red/10 border border-pokemon-red/30 rounded-xl p-4 mb-6",children:[e.jsx("p",{className:"text-pokemon-red font-bold mb-2",children:"‚ùå Error"}),e.jsx("p",{className:"text-gray-300 text-sm",children:f})]}),!x&&e.jsx("button",{onClick:k,className:"w-full py-4 bg-pokemon-darkest hover:bg-pokemon-darker text-white font-bold rounded-xl transition-colors",children:"Volver al inicio"})]}),e.jsx("div",{className:"mt-6 text-center text-gray-500 text-sm",children:e.jsx("p",{children:'Si Minecraft se queda en "No responde", es normal. Espera unos segundos.'})})]})})};export{A as default};
